{"filter":false,"title":"mysql.py","tooltip":"/ftasomc/mysql.py","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":33,"column":0},"action":"insert","lines":["# -*- coding: utf-8 -*-","import MySQLdb","import settings","","class db_operate:","    def mysql_command(self,conn,sql_cmd):","        try:","            ret = []","            conn=MySQLdb.connect(host=conn[\"host\"],user=conn[\"user\"],passwd=conn[\"password\"],db=conn[\"database\"],port=conn[\"port\"],charset=\"utf8\")","            cursor = conn.cursor()","            n = cursor.execute(sql_cmd)","            for row in cursor.fetchall():","                for i in row:","                    ret.append(i)","        except MySQLdb.Error,e:","            ret.append(e)","","        return ret","","    def select_table(self,conn,sql_cmd,parmas):","        try:","            ret = []","            conn=MySQLdb.connect(host=conn[\"host\"],user=conn[\"user\"],passwd=conn[\"password\"],db=conn[\"database\"],port=conn[\"port\"],charset=\"utf8\")","            cursor = conn.cursor()","            n = cursor.execute(sql_cmd,parmas)","            for row in cursor.fetchall():","                for i in row:","                    ret.append(i)","        except MySQLdb.Error,e:","            ret.append(e)","","        return ret","",""],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":9,"column":34},"end":{"row":9,"column":34},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1449537875943,"hash":"9bfa40bad7219d8a7f8302cb00b9b84215dfc8d5"}