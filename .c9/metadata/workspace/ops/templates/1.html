{"filter":false,"title":"1.html","tooltip":"/ops/templates/1.html","undoManager":{"mark":19,"position":19,"stack":[[{"start":{"row":19,"column":8},"end":{"row":503,"column":38},"action":"remove","lines":["<!-- Main content -->","        <section class=\"content\">","          <!-- Info boxes -->","          <div class=\"row\">","            <div class=\"col-md-3 col-sm-6 col-xs-12\">","              <div class=\"info-box\">","                <span class=\"info-box-icon bg-aqua\"><i class=\"ion ion-ios-gear-outline\"></i></span>","                <div class=\"info-box-content\">","                  <span class=\"info-box-text\">CPU Traffic</span>","                  <span class=\"info-box-number\">90<small>%</small></span>","                </div><!-- /.info-box-content -->","              </div><!-- /.info-box -->","            </div><!-- /.col -->","            <div class=\"col-md-3 col-sm-6 col-xs-12\">","              <div class=\"info-box\">","                <span class=\"info-box-icon bg-red\"><i class=\"fa fa-google-plus\"></i></span>","                <div class=\"info-box-content\">","                  <span class=\"info-box-text\">Likes</span>","                  <span class=\"info-box-number\">41,410</span>","                </div><!-- /.info-box-content -->","              </div><!-- /.info-box -->","            </div><!-- /.col -->","","            <!-- fix for small devices only -->","            <div class=\"clearfix visible-sm-block\"></div>","","            <div class=\"col-md-3 col-sm-6 col-xs-12\">","              <div class=\"info-box\">","                <span class=\"info-box-icon bg-green\"><i class=\"ion ion-ios-cart-outline\"></i></span>","                <div class=\"info-box-content\">","                  <span class=\"info-box-text\">Sales</span>","                  <span class=\"info-box-number\">760</span>","                </div><!-- /.info-box-content -->","              </div><!-- /.info-box -->","            </div><!-- /.col -->","            <div class=\"col-md-3 col-sm-6 col-xs-12\">","              <div class=\"info-box\">","                <span class=\"info-box-icon bg-yellow\"><i class=\"ion ion-ios-people-outline\"></i></span>","                <div class=\"info-box-content\">","                  <span class=\"info-box-text\">New Members</span>","                  <span class=\"info-box-number\">2,000</span>","                </div><!-- /.info-box-content -->","              </div><!-- /.info-box -->","            </div><!-- /.col -->","          </div><!-- /.row -->","","          <div class=\"row\">","            <div class=\"col-md-12\">","              <div class=\"box\">","                <div class=\"box-header with-border\">","                  <h3 class=\"box-title\">Monthly Recap Report</h3>","                  <div class=\"box-tools pull-right\">","                    <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>","                    <div class=\"btn-group\">","                      <button class=\"btn btn-box-tool dropdown-toggle\" data-toggle=\"dropdown\"><i class=\"fa fa-wrench\"></i></button>","                      <ul class=\"dropdown-menu\" role=\"menu\">","                        <li><a href=\"#\">Action</a></li>","                        <li><a href=\"#\">Another action</a></li>","                        <li><a href=\"#\">Something else here</a></li>","                        <li class=\"divider\"></li>","                        <li><a href=\"#\">Separated link</a></li>","                      </ul>","                    </div>","                    <button class=\"btn btn-box-tool\" data-widget=\"remove\"><i class=\"fa fa-times\"></i></button>","                  </div>","                </div><!-- /.box-header -->","                <div class=\"box-body\">","                  <div class=\"row\">","                    <div class=\"col-md-8\">","                      <p class=\"text-center\">","                        <strong>Sales: 1 Jan, 2014 - 30 Jul, 2014</strong>","                      </p>","                      <div class=\"chart\">","                        <!-- Sales Chart Canvas -->","                        <canvas id=\"salesChart\" style=\"height: 180px;\"></canvas>","                      </div><!-- /.chart-responsive -->","                    </div><!-- /.col -->","                    <div class=\"col-md-4\">","                      <p class=\"text-center\">","                        <strong>Goal Completion</strong>","                      </p>","                      <div class=\"progress-group\">","                        <span class=\"progress-text\">Add Products to Cart</span>","                        <span class=\"progress-number\"><b>160</b>/200</span>","                        <div class=\"progress sm\">","                          <div class=\"progress-bar progress-bar-aqua\" style=\"width: 80%\"></div>","                        </div>","                      </div><!-- /.progress-group -->","                      <div class=\"progress-group\">","                        <span class=\"progress-text\">Complete Purchase</span>","                        <span class=\"progress-number\"><b>310</b>/400</span>","                        <div class=\"progress sm\">","                          <div class=\"progress-bar progress-bar-red\" style=\"width: 80%\"></div>","                        </div>","                      </div><!-- /.progress-group -->","                      <div class=\"progress-group\">","                        <span class=\"progress-text\">Visit Premium Page</span>","                        <span class=\"progress-number\"><b>480</b>/800</span>","                        <div class=\"progress sm\">","                          <div class=\"progress-bar progress-bar-green\" style=\"width: 80%\"></div>","                        </div>","                      </div><!-- /.progress-group -->","                      <div class=\"progress-group\">","                        <span class=\"progress-text\">Send Inquiries</span>","                        <span class=\"progress-number\"><b>250</b>/500</span>","                        <div class=\"progress sm\">","                          <div class=\"progress-bar progress-bar-yellow\" style=\"width: 80%\"></div>","                        </div>","                      </div><!-- /.progress-group -->","                    </div><!-- /.col -->","                  </div><!-- /.row -->","                </div><!-- ./box-body -->","                <div class=\"box-footer\">","                  <div class=\"row\">","                    <div class=\"col-sm-3 col-xs-6\">","                      <div class=\"description-block border-right\">","                        <span class=\"description-percentage text-green\"><i class=\"fa fa-caret-up\"></i> 17%</span>","                        <h5 class=\"description-header\">$35,210.43</h5>","                        <span class=\"description-text\">TOTAL REVENUE</span>","                      </div><!-- /.description-block -->","                    </div><!-- /.col -->","                    <div class=\"col-sm-3 col-xs-6\">","                      <div class=\"description-block border-right\">","                        <span class=\"description-percentage text-yellow\"><i class=\"fa fa-caret-left\"></i> 0%</span>","                        <h5 class=\"description-header\">$10,390.90</h5>","                        <span class=\"description-text\">TOTAL COST</span>","                      </div><!-- /.description-block -->","                    </div><!-- /.col -->","                    <div class=\"col-sm-3 col-xs-6\">","                      <div class=\"description-block border-right\">","                        <span class=\"description-percentage text-green\"><i class=\"fa fa-caret-up\"></i> 20%</span>","                        <h5 class=\"description-header\">$24,813.53</h5>","                        <span class=\"description-text\">TOTAL PROFIT</span>","                      </div><!-- /.description-block -->","                    </div><!-- /.col -->","                    <div class=\"col-sm-3 col-xs-6\">","                      <div class=\"description-block\">","                        <span class=\"description-percentage text-red\"><i class=\"fa fa-caret-down\"></i> 18%</span>","                        <h5 class=\"description-header\">1200</h5>","                        <span class=\"description-text\">GOAL COMPLETIONS</span>","                      </div><!-- /.description-block -->","                    </div>","                  </div><!-- /.row -->","                </div><!-- /.box-footer -->","              </div><!-- /.box -->","            </div><!-- /.col -->","          </div><!-- /.row -->","","          <!-- Main row -->","          <div class=\"row\">","            <!-- Left col -->","            <div class=\"col-md-8\">","              <!-- MAP & BOX PANE -->","              <div class=\"box box-success\">","                <div class=\"box-header with-border\">","                  <h3 class=\"box-title\">Visitors Report</h3>","                  <div class=\"box-tools pull-right\">","                    <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>","                    <button class=\"btn btn-box-tool\" data-widget=\"remove\"><i class=\"fa fa-times\"></i></button>","                  </div>","                </div><!-- /.box-header -->","                <div class=\"box-body no-padding\">","                  <div class=\"row\">","                    <div class=\"col-md-9 col-sm-8\">","                      <div class=\"pad\">","                        <!-- Map will be created here -->","                        <div id=\"world-map-markers\" style=\"height: 325px;\"></div>","                      </div>","                    </div><!-- /.col -->","                    <div class=\"col-md-3 col-sm-4\">","                      <div class=\"pad box-pane-right bg-green\" style=\"min-height: 280px\">","                        <div class=\"description-block margin-bottom\">","                          <div class=\"sparkbar pad\" data-color=\"#fff\">90,70,90,70,75,80,70</div>","                          <h5 class=\"description-header\">8390</h5>","                          <span class=\"description-text\">Visits</span>","                        </div><!-- /.description-block -->","                        <div class=\"description-block margin-bottom\">","                          <div class=\"sparkbar pad\" data-color=\"#fff\">90,50,90,70,61,83,63</div>","                          <h5 class=\"description-header\">30%</h5>","                          <span class=\"description-text\">Referrals</span>","                        </div><!-- /.description-block -->","                        <div class=\"description-block\">","                          <div class=\"sparkbar pad\" data-color=\"#fff\">90,50,90,70,61,83,63</div>","                          <h5 class=\"description-header\">70%</h5>","                          <span class=\"description-text\">Organic</span>","                        </div><!-- /.description-block -->","                      </div>","                    </div><!-- /.col -->","                  </div><!-- /.row -->","                </div><!-- /.box-body -->","              </div><!-- /.box -->","              <div class=\"row\">","                ","                <div class=\"col-md-6\">","                  <!-- USERS LIST -->","                  <div class=\"box box-danger\">","                    <div class=\"box-header with-border\">","                      <h3 class=\"box-title\">Latest Members</h3>","                      <div class=\"box-tools pull-right\">","                        <span class=\"label label-danger\">8 New Members</span>","                        <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>","                        <button class=\"btn btn-box-tool\" data-widget=\"remove\"><i class=\"fa fa-times\"></i></button>","                      </div>","                    </div><!-- /.box-header -->","                    <div class=\"box-body no-padding\">","                      <ul class=\"users-list clearfix\">","                        <li>","                          <img src=\"/static/dist/img/user1-128x128.jpg\" alt=\"User Image\">","                          <a class=\"users-list-name\" href=\"#\">Alexander Pierce</a>","                          <span class=\"users-list-date\">Today</span>","                        </li>","                        <li>","                          <img src=\"/static/dist/img/user8-128x128.jpg\" alt=\"User Image\">","                          <a class=\"users-list-name\" href=\"#\">Norman</a>","                          <span class=\"users-list-date\">Yesterday</span>","                        </li>","                        <li>","                          <img src=\"/static/dist/img/user7-128x128.jpg\" alt=\"User Image\">","                          <a class=\"users-list-name\" href=\"#\">Jane</a>","                          <span class=\"users-list-date\">12 Jan</span>","                        </li>","                        <li>","                          <img src=\"/static/dist/img/user6-128x128.jpg\" alt=\"User Image\">","                          <a class=\"users-list-name\" href=\"#\">John</a>","                          <span class=\"users-list-date\">12 Jan</span>","                        </li>","                        <li>","                          <img src=\"/static/dist/img/user2-160x160.jpg\" alt=\"User Image\">","                          <a class=\"users-list-name\" href=\"#\">Alexander</a>","                          <span class=\"users-list-date\">13 Jan</span>","                        </li>","                        <li>","                          <img src=\"/static/dist/img/user5-128x128.jpg\" alt=\"User Image\">","                          <a class=\"users-list-name\" href=\"#\">Sarah</a>","                          <span class=\"users-list-date\">14 Jan</span>","                        </li>","                        <li>","                          <img src=\"/static/dist/img/user4-128x128.jpg\" alt=\"User Image\">","                          <a class=\"users-list-name\" href=\"#\">Nora</a>","                          <span class=\"users-list-date\">15 Jan</span>","                        </li>","                        <li>","                          <img src=\"/static/dist/img/user3-128x128.jpg\" alt=\"User Image\">","                          <a class=\"users-list-name\" href=\"#\">Nadia</a>","                          <span class=\"users-list-date\">15 Jan</span>","                        </li>","                      </ul><!-- /.users-list -->","                    </div><!-- /.box-body -->","                    <div class=\"box-footer text-center\">","                      <a href=\"javascript::\" class=\"uppercase\">View All Users</a>","                    </div><!-- /.box-footer -->","                  </div><!--/.box -->","                </div><!-- /.col -->","              </div><!-- /.row -->","","              <!-- TABLE: LATEST ORDERS -->","              <div class=\"box box-info\">","                <div class=\"box-header with-border\">","                  <h3 class=\"box-title\">Latest Orders</h3>","                  <div class=\"box-tools pull-right\">","                    <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>","                    <button class=\"btn btn-box-tool\" data-widget=\"remove\"><i class=\"fa fa-times\"></i></button>","                  </div>","                </div><!-- /.box-header -->","                <div class=\"box-body\">","                  <div class=\"table-responsive\">","                    <table class=\"table no-margin\">","                      <thead>","                        <tr>","                          <th>Order ID</th>","                          <th>Item</th>","                          <th>Status</th>","                          <th>Popularity</th>","                        </tr>","                      </thead>","                      <tbody>","                        <tr>","                          <td><a href=\"pages/examples/invoice.html\">OR9842</a></td>","                          <td>Call of Duty IV</td>","                          <td><span class=\"label label-success\">Shipped</span></td>","                          <td><div class=\"sparkbar\" data-color=\"#00a65a\" data-height=\"20\">90,80,90,-70,61,-83,63</div></td>","                        </tr>","                        <tr>","                          <td><a href=\"pages/examples/invoice.html\">OR1848</a></td>","                          <td>Samsung Smart TV</td>","                          <td><span class=\"label label-warning\">Pending</span></td>","                          <td><div class=\"sparkbar\" data-color=\"#f39c12\" data-height=\"20\">90,80,-90,70,61,-83,68</div></td>","                        </tr>","                        <tr>","                          <td><a href=\"pages/examples/invoice.html\">OR7429</a></td>","                          <td>iPhone 6 Plus</td>","                          <td><span class=\"label label-danger\">Delivered</span></td>","                          <td><div class=\"sparkbar\" data-color=\"#f56954\" data-height=\"20\">90,-80,90,70,-61,83,63</div></td>","                        </tr>","                        <tr>","                          <td><a href=\"pages/examples/invoice.html\">OR7429</a></td>","                          <td>Samsung Smart TV</td>","                          <td><span class=\"label label-info\">Processing</span></td>","                          <td><div class=\"sparkbar\" data-color=\"#00c0ef\" data-height=\"20\">90,80,-90,70,-61,83,63</div></td>","                        </tr>","                        <tr>","                          <td><a href=\"pages/examples/invoice.html\">OR1848</a></td>","                          <td>Samsung Smart TV</td>","                          <td><span class=\"label label-warning\">Pending</span></td>","                          <td><div class=\"sparkbar\" data-color=\"#f39c12\" data-height=\"20\">90,80,-90,70,61,-83,68</div></td>","                        </tr>","                        <tr>","                          <td><a href=\"pages/examples/invoice.html\">OR7429</a></td>","                          <td>iPhone 6 Plus</td>","                          <td><span class=\"label label-danger\">Delivered</span></td>","                          <td><div class=\"sparkbar\" data-color=\"#f56954\" data-height=\"20\">90,-80,90,70,-61,83,63</div></td>","                        </tr>","                        <tr>","                          <td><a href=\"pages/examples/invoice.html\">OR9842</a></td>","                          <td>Call of Duty IV</td>","                          <td><span class=\"label label-success\">Shipped</span></td>","                          <td><div class=\"sparkbar\" data-color=\"#00a65a\" data-height=\"20\">90,80,90,-70,61,-83,63</div></td>","                        </tr>","                      </tbody>","                    </table>","                  </div><!-- /.table-responsive -->","                </div><!-- /.box-body -->","                <div class=\"box-footer clearfix\">","                  <a href=\"javascript::;\" class=\"btn btn-sm btn-info btn-flat pull-left\">Place New Order</a>","                  <a href=\"javascript::;\" class=\"btn btn-sm btn-default btn-flat pull-right\">View All Orders</a>","                </div><!-- /.box-footer -->","              </div><!-- /.box -->","            </div><!-- /.col -->","","            <div class=\"col-md-4\">","              <!-- Info Boxes Style 2 -->","              <div class=\"info-box bg-yellow\">","                <span class=\"info-box-icon\"><i class=\"ion ion-ios-pricetag-outline\"></i></span>","                <div class=\"info-box-content\">","                  <span class=\"info-box-text\">Inventory</span>","                  <span class=\"info-box-number\">5,200</span>","                  <div class=\"progress\">","                    <div class=\"progress-bar\" style=\"width: 50%\"></div>","                  </div>","                  <span class=\"progress-description\">","                    50% Increase in 30 Days","                  </span>","                </div><!-- /.info-box-content -->","              </div><!-- /.info-box -->","              <div class=\"info-box bg-green\">","                <span class=\"info-box-icon\"><i class=\"ion ion-ios-heart-outline\"></i></span>","                <div class=\"info-box-content\">","                  <span class=\"info-box-text\">Mentions</span>","                  <span class=\"info-box-number\">92,050</span>","                  <div class=\"progress\">","                    <div class=\"progress-bar\" style=\"width: 20%\"></div>","                  </div>","                  <span class=\"progress-description\">","                    20% Increase in 30 Days","                  </span>","                </div><!-- /.info-box-content -->","              </div><!-- /.info-box -->","              <div class=\"info-box bg-red\">","                <span class=\"info-box-icon\"><i class=\"ion ion-ios-cloud-download-outline\"></i></span>","                <div class=\"info-box-content\">","                  <span class=\"info-box-text\">Downloads</span>","                  <span class=\"info-box-number\">114,381</span>","                  <div class=\"progress\">","                    <div class=\"progress-bar\" style=\"width: 70%\"></div>","                  </div>","                  <span class=\"progress-description\">","                    70% Increase in 30 Days","                  </span>","                </div><!-- /.info-box-content -->","              </div><!-- /.info-box -->","              <div class=\"info-box bg-aqua\">","                <span class=\"info-box-icon\"><i class=\"ion-ios-chatbubble-outline\"></i></span>","                <div class=\"info-box-content\">","                  <span class=\"info-box-text\">Direct Messages</span>","                  <span class=\"info-box-number\">163,921</span>","                  <div class=\"progress\">","                    <div class=\"progress-bar\" style=\"width: 40%\"></div>","                  </div>","                  <span class=\"progress-description\">","                    40% Increase in 30 Days","                  </span>","                </div><!-- /.info-box-content -->","              </div><!-- /.info-box -->","","              <div class=\"box box-default\">","                <div class=\"box-header with-border\">","                  <h3 class=\"box-title\">Browser Usage</h3>","                  <div class=\"box-tools pull-right\">","                    <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>","                    <button class=\"btn btn-box-tool\" data-widget=\"remove\"><i class=\"fa fa-times\"></i></button>","                  </div>","                </div><!-- /.box-header -->","                <div class=\"box-body\">","                  <div class=\"row\">","                    <div class=\"col-md-8\">","                      <div class=\"chart-responsive\">","                        <canvas id=\"pieChart\" height=\"150\"></canvas>","                      </div><!-- ./chart-responsive -->","                    </div><!-- /.col -->","                    <div class=\"col-md-4\">","                      <ul class=\"chart-legend clearfix\">","                        <li><i class=\"fa fa-circle-o text-red\"></i> Chrome</li>","                        <li><i class=\"fa fa-circle-o text-green\"></i> IE</li>","                        <li><i class=\"fa fa-circle-o text-yellow\"></i> FireFox</li>","                        <li><i class=\"fa fa-circle-o text-aqua\"></i> Safari</li>","                        <li><i class=\"fa fa-circle-o text-light-blue\"></i> Opera</li>","                        <li><i class=\"fa fa-circle-o text-gray\"></i> Navigator</li>","                      </ul>","                    </div><!-- /.col -->","                  </div><!-- /.row -->","                </div><!-- /.box-body -->","                <div class=\"box-footer no-padding\">","                  <ul class=\"nav nav-pills nav-stacked\">","                    <li><a href=\"#\">United States of America <span class=\"pull-right text-red\"><i class=\"fa fa-angle-down\"></i> 12%</span></a></li>","                    <li><a href=\"#\">India <span class=\"pull-right text-green\"><i class=\"fa fa-angle-up\"></i> 4%</span></a></li>","                    <li><a href=\"#\">China <span class=\"pull-right text-yellow\"><i class=\"fa fa-angle-left\"></i> 0%</span></a></li>","                  </ul>","                </div><!-- /.footer -->","              </div><!-- /.box -->","","              <!-- PRODUCT LIST -->","              <div class=\"box box-primary\">","                <div class=\"box-header with-border\">","                  <h3 class=\"box-title\">Recently Added Products</h3>","                  <div class=\"box-tools pull-right\">","                    <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>","                    <button class=\"btn btn-box-tool\" data-widget=\"remove\"><i class=\"fa fa-times\"></i></button>","                  </div>","                </div><!-- /.box-header -->","                <div class=\"box-body\">","                  <ul class=\"products-list product-list-in-box\">","                    <li class=\"item\">","                      <div class=\"product-img\">","                        <img src=\"/static/dist/img/default-50x50.gif\" alt=\"Product Image\">","                      </div>","                      <div class=\"product-info\">","                        <a href=\"javascript::;\" class=\"product-title\">Samsung TV <span class=\"label label-warning pull-right\">$1800</span></a>","                        <span class=\"product-description\">","                          Samsung 32\" 1080p 60Hz LED Smart HDTV.","                        </span>","                      </div>","                    </li><!-- /.item -->","                    <li class=\"item\">","                      <div class=\"product-img\">","                        <img src=\"/static/dist/img/default-50x50.gif\" alt=\"Product Image\">","                      </div>","                      <div class=\"product-info\">","                        <a href=\"javascript::;\" class=\"product-title\">Bicycle <span class=\"label label-info pull-right\">$700</span></a>","                        <span class=\"product-description\">","                          26\" Mongoose Dolomite Men's 7-speed, Navy Blue.","                        </span>","                      </div>","                    </li><!-- /.item -->","                    <li class=\"item\">","                      <div class=\"product-img\">","                        <img src=\"/static/dist/img/default-50x50.gif\" alt=\"Product Image\">","                      </div>","                      <div class=\"product-info\">","                        <a href=\"javascript::;\" class=\"product-title\">Xbox One <span class=\"label label-danger pull-right\">$350</span></a>","                        <span class=\"product-description\">","                          Xbox One Console Bundle with Halo Master Chief Collection.","                        </span>","                      </div>","                    </li><!-- /.item -->","                    <li class=\"item\">","                      <div class=\"product-img\">","                        <img src=\"/static/dist/img/default-50x50.gif\" alt=\"Product Image\">","                      </div>","                      <div class=\"product-info\">","                        <a href=\"javascript::;\" class=\"product-title\">PlayStation 4 <span class=\"label label-success pull-right\">$399</span></a>","                        <span class=\"product-description\">","                          PlayStation 4 500GB Console (PS4)","                        </span>","                      </div>","                    </li><!-- /.item -->","                  </ul>","                </div><!-- /.box-body -->","                <div class=\"box-footer text-center\">","                  <a href=\"javascript::;\" class=\"uppercase\">View All Products</a>","                </div><!-- /.box-footer -->","              </div><!-- /.box -->","            </div><!-- /.col -->","          </div><!-- /.row -->","        </section><!-- /.content -->","      </div><!-- /.content-wrapper -->"],"id":2},{"start":{"row":19,"column":8},"end":{"row":217,"column":27},"action":"insert","lines":["<!--Page content-->","\t\t\t\t<!--===================================================-->","\t\t\t\t<div id=\"page-content\">","                {% block page-content %}","","","                    <div class=\"row\"> <!--首页概览-->","\t\t\t\t\t\t<div class=\"col-sm-6 col-lg-3\">","","\t\t\t\t\t\t\t<!--Registered User-->","\t\t\t\t\t\t\t<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->","\t\t\t\t\t\t\t<div class=\"panel media pad-all\">","\t\t\t\t\t\t\t\t<div class=\"media-left\">","\t\t\t\t\t\t\t\t\t<span class=\"icon-wrap icon-wrap-sm icon-circle bg-success\">","\t\t\t\t\t\t\t\t\t<i class=\"fa fa-server fa-2x\"></i>","\t\t\t\t\t\t\t\t\t</span>","\t\t\t\t\t\t\t\t</div>","","\t\t\t\t\t\t\t\t<div class=\"media-body\">","\t\t\t\t\t\t\t\t\t<p id=\"total_servers\" class=\"text-2x mar-no text-thin\"></p>","\t\t\t\t\t\t\t\t\t<p class=\"text-muted mar-no\">已管理服务器</p>","\t\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->","","\t\t\t\t\t\t</div>","\t\t\t\t\t\t<div class=\"col-sm-6 col-lg-3\">","","\t\t\t\t\t\t\t<!--New Order-->","\t\t\t\t\t\t\t<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->","\t\t\t\t\t\t\t<div class=\"panel media pad-all\">","\t\t\t\t\t\t\t\t<div class=\"media-left\">","\t\t\t\t\t\t\t\t\t<span class=\"icon-wrap icon-wrap-sm icon-circle bg-info\">","\t\t\t\t\t\t\t\t\t<i class=\"fa fa-user fa-2x\"></i>","\t\t\t\t\t\t\t\t\t</span>","\t\t\t\t\t\t\t\t</div>","","\t\t\t\t\t\t\t\t<div class=\"media-body\">","\t\t\t\t\t\t\t\t\t<p id=\"total_users\" class=\"text-2x mar-no text-thin\">0</p>","\t\t\t\t\t\t\t\t\t<p class=\"text-muted mar-no\">注册用户数</p>","\t\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->","","\t\t\t\t\t\t</div>","\t\t\t\t\t\t<div class=\"col-sm-6 col-lg-3\">","","\t\t\t\t\t\t\t<!--Comments-->","\t\t\t\t\t\t\t<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->","\t\t\t\t\t\t\t<div class=\"panel media pad-all\">","\t\t\t\t\t\t\t\t<div class=\"media-left\">","\t\t\t\t\t\t\t\t\t<span class=\"icon-wrap icon-wrap-sm icon-circle bg-warning\">","\t\t\t\t\t\t\t\t\t<i class=\"fa fa-comment fa-2x\"></i>","\t\t\t\t\t\t\t\t\t</span>","\t\t\t\t\t\t\t\t</div>","","\t\t\t\t\t\t\t\t<div  class=\"media-body\">","\t\t\t\t\t\t\t\t\t<p id=\"current_logging_users\" style=\"cursor: pointer\" onclick=\"ShowOnlineUsers()\" class=\"text-2x btn-link  mar-no text-thin\"></p>","\t\t\t\t\t\t\t\t\t<p class=\"text-muted mar-no\">当前在线用户</p>","\t\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->","","\t\t\t\t\t\t</div>","\t\t\t\t\t\t<div class=\"col-sm-6 col-lg-3\">","","\t\t\t\t\t\t\t<!--Sales-->","\t\t\t\t\t\t\t<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->","\t\t\t\t\t\t\t<div class=\"panel media pad-all\">","\t\t\t\t\t\t\t\t<div class=\"media-left\">","\t\t\t\t\t\t\t\t\t<span class=\"icon-wrap icon-wrap-sm icon-circle bg-danger\">","\t\t\t\t\t\t\t\t\t<i class=\"fa fa-desktop fa-2x\"></i>","\t\t\t\t\t\t\t\t\t</span>","\t\t\t\t\t\t\t\t</div>","","\t\t\t\t\t\t\t\t<div class=\"media-body\">","\t\t\t\t\t\t\t\t\t<p id=\"current_connected_hosts\" style=\"cursor: pointer\" onclick=\"ShowOnlineHosts()\"  class=\"text-2x mar-no btn-link text-thin\"></p>","\t\t\t\t\t\t\t\t\t<p class=\"text-muted mar-no\">正在连接的主机数</p>","\t\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->","","\t\t\t\t\t\t</div>","\t\t\t\t\t</div> <!--end首页概览-->","                    <div class=\"row\">","                        <div class=\"col-lg-8\">","","                            <div class=\"panel\">","                                <div class=\"panel-heading\">","\t\t\t\t\t\t\t\t\t<div class=\"panel-control\">","\t\t\t\t\t\t\t\t\t\t<button id=\"demo-panel-network-refresh\" data-toggle=\"panel-overlay\" data-target=\"#demo-panel-network\" class=\"btn\"><i class=\"fa fa-rotate-right\"></i></button>","\t\t\t\t\t\t\t\t\t\t<div class=\"btn-group\">","\t\t\t\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle btn\" data-toggle=\"dropdown\" aria-expanded=\"false\"><i class=\"fa fa-gear\"></i></button>","\t\t\t\t\t\t\t\t\t\t\t<ul class=\"dropdown-menu dropdown-menu-right\">","\t\t\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Action</a></li>","\t\t\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Another action</a></li>","\t\t\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Something else here</a></li>","\t\t\t\t\t\t\t\t\t\t\t\t<li class=\"divider\"></li>","\t\t\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Separated link</a></li>","\t\t\t\t\t\t\t\t\t\t\t</ul>","\t\t\t\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t\t\t<h3 class=\"panel-title\">用户登录量统计</h3>","\t\t\t\t\t\t\t\t</div>","                            <div id=\"chart-container\" style=\"height: 300px; min-width: 310px;\">","","","                            </div>","                            </div>","                        </div>","                        <div class=\"col-lg-4\">","","                            <div class=\"panel\">","                                <div class=\"panel-heading\">","","\t\t\t\t\t\t\t\t\t<h3 class=\"panel-title\">最近一周活跃用户</h3>","\t\t\t\t\t\t\t\t</div>","","                                <div  class=\"panel-body\" style=\"height: 300px\">","","                                    <table class=\"table  table-condensed\">","\t\t\t\t\t\t\t\t\t\t\t<thead>","\t\t\t\t\t\t\t\t\t\t\t\t<tr>","\t\t\t\t\t\t\t\t\t\t\t\t\t<th>用户</th>","\t\t\t\t\t\t\t\t\t\t\t\t\t<th>登录次数</th>","\t\t\t\t\t\t\t\t\t\t\t\t\t<th>操作命令数</th>","\t\t\t\t\t\t\t\t\t\t\t\t</tr>","\t\t\t\t\t\t\t\t\t\t\t</thead>","\t\t\t\t\t\t\t\t\t\t\t<tbody id=\"recent_active_users\">","","\t\t\t\t\t\t\t\t\t\t\t</tbody>","\t\t\t\t\t\t\t\t\t</table>","","                                </div>","","                            </div>","                        </div>","                    </div>","                    <div class=\"row\">","                         <div class=\"col-lg-12\">","","                            <div class=\"panel\">","                                <div class=\"panel-heading\">","\t\t\t\t\t\t\t\t\t<h3 class=\"panel-title\">近期批量任务</h3>","\t\t\t\t\t\t\t\t</div>","                                <div class=\"table-responsive\">","\t\t\t\t\t\t\t\t<table class=\"table table-striped\">","                                {% load custom_tag %}","\t\t\t\t\t\t\t\t\t<thead>","\t\t\t\t\t\t\t\t\t\t<tr>","\t\t\t\t\t\t\t\t\t\t\t<th class=\"text-center\">任务ID</th>","\t\t\t\t\t\t\t\t\t\t\t<th class=\"text-center\">日期</th>","\t\t\t\t\t\t\t\t\t\t\t<th>操作用户</th>","\t\t\t\t\t\t\t\t\t\t\t<th>操作主机数</th>","\t\t\t\t\t\t\t\t\t\t\t<th>操作类型</th>","\t\t\t\t\t\t\t\t\t\t\t<th>操作内容</th>","\t\t\t\t\t\t\t\t\t\t\t<th>成功数</th>","\t\t\t\t\t\t\t\t\t\t\t<th>失败数</th>","\t\t\t\t\t\t\t\t\t\t\t<th>未知数</th>","\t\t\t\t\t\t\t\t\t\t</tr>","\t\t\t\t\t\t\t\t\t</thead>","\t\t\t\t\t\t\t\t\t<tbody>","","\t\t\t\t\t\t\t\t\t{% for task in recent_tasks %}","                                    <tr>","                                        <td><a class=\"btn-link\" href=\"#\" >#{{ task.id }}</a></td>","                                        <td>{{ task.start_time }}</td>","                                        <td>{{ task.user }}</td>","                                         <td>{{ task.hosts.select_related.count }}</td>","                                        <td>{{ task.task_type }}</td>","","                                        <td>{{ task.cmd }}</td>","                                        <td>{% query_set task.tasklogdetail_set \"result\" \"success\" %}</td>","                                        <td>{% query_set task.tasklogdetail_set \"result\" \"failed\" %}</td>","                                        <td>{% query_set task.tasklogdetail_set \"result\" \"unknown\" %}</td>","                                    </tr>","                                    {% endfor %}","\t\t\t\t\t\t\t\t\t</tbody>","\t\t\t\t\t\t\t\t</table>","\t\t\t\t\t\t\t</div>","","                            </div>","                        </div>","                        <div class=\"col-lg-6\">","","                            <div class=\"panel\">","                                <div class=\"panel-heading\">","","\t\t\t\t\t\t\t\t\t<h3 class=\"panel-title\">近期危险操作统计</h3>","\t\t\t\t\t\t\t\t</div>","","                            </div>","                        </div>","                    </div>","","                {% endblock %}","\t\t\t\t</div>","\t\t\t\t<!--===================================================-->","\t\t\t\t<!--End page content-->"]}],[{"start":{"row":217,"column":27},"end":{"row":218,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":218,"column":0},"end":{"row":218,"column":4},"action":"insert","lines":["\t\t\t\t"]}],[{"start":{"row":218,"column":4},"end":{"row":219,"column":0},"action":"insert","lines":["",""],"id":5},{"start":{"row":219,"column":0},"end":{"row":219,"column":4},"action":"insert","lines":["\t\t\t\t"]}],[{"start":{"row":219,"column":4},"end":{"row":220,"column":42},"action":"insert","lines":["{% include 'user_audit_modal.html' %}","        {% include 'user_audit_js.html' %}"],"id":6}],[{"start":{"row":219,"column":2},"end":{"row":219,"column":4},"action":"remove","lines":["\t\t"],"id":7}],[{"start":{"row":220,"column":42},"end":{"row":221,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":221,"column":0},"end":{"row":221,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":221,"column":8},"end":{"row":222,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":222,"column":0},"end":{"row":222,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":222,"column":8},"end":{"row":225,"column":60},"action":"insert","lines":["<!-- SCROLL TOP BUTTON -->","\t\t<!--===================================================-->","\t\t<button id=\"scroll-top\" class=\"btn\"><i class=\"fa fa-chevron-up\"></i></button>","\t\t<!--===================================================-->"],"id":10}],[{"start":{"row":225,"column":60},"end":{"row":226,"column":0},"action":"insert","lines":["",""],"id":11},{"start":{"row":226,"column":0},"end":{"row":226,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":226,"column":2},"end":{"row":227,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":227,"column":0},"end":{"row":227,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":227,"column":2},"end":{"row":228,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":228,"column":0},"end":{"row":228,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":228,"column":2},"end":{"row":431,"column":41},"action":"insert","lines":["<script type=\"text/javascript\">","        // using jQuery","        $(document).ready(function(){","","            //var csrftoken = $.cookie('csrftoken');","            var csrftoken = Cookies.get('csrftoken');","","            function csrfSafeMethod(method) {","                // these HTTP methods do not require CSRF protection","                return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));","            }","            $.ajaxSetup({","                beforeSend: function(xhr, settings) {","                    if (!csrfSafeMethod(settings.type) && !this.crossDomain) {","                        xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);","                    }","                }","            });","","        //set active menu node on left sidebar","        SetActiveMenu(\"{{active_node}}\");","","        })","","        function SetActiveMenu(active_node){","","            //console.log(\"activ---enode:: \" + active_node);","            if (active_node == ''){","                active_node = '/';","            }","            var node_ele = $(\"#mainnav-menu-wrap \"+ \" a[href='\" +active_node + \"']\").parent();","            node_ele.addClass(\"active-link\");","            if (node_ele.parent().hasClass(\"collapse\")){","                node_ele.parent().addClass(\"in\");","            }","","        }","","        //for chart","    $(function () {","","        Highcharts.setOptions({","            global: {","                timezoneOffset:new Date().getTimezoneOffset()/60","","            }","        });","","        $.getJSON(\"{% url 'dashboard_summary' %}\", function (data) {","            // Create the chart","            console.log(data);","            $('#chart-container').highcharts('StockChart', {","                credits: {","                  enabled: false","                },","                exporting: { enabled: false },","                rangeSelector : {","                    selected : 1","                },","","","                plotOptions: {","                    series: {","                        cursor: 'pointer',","                        point: {","                            events: {","                                click: function () {","                                    //alert('Category: ' + this.x + ', value: ' + this.y);","                                    $.getJSON(\"{% url 'user_login_counts' %}\", {time_stamp: this.x},function(callback){","                                        console.log(callback);","                                        ShowCurrentDayRecords(callback);","","                                    });//end getJSON","                                }","                            }","                        }","                    }","                } ,","","                series : [{","                    type:'column',","                    name : '用户数',","                    data : data.user_login_statistics,","                    tooltip: {","                        valueDecimals: 0","                    }","                }]","            });//end chart","","            recent_active_users(data);","            summary_data(data);","","        });","","    });","        //end chart","","","","    function ShowOnlineHosts(){","","","         $.getJSON(\"{% url 'dashboard_detail' %}\", {'data_type':'get_online_hosts'},function(callback){","","            console.log(callback);","            var table_html = \"<table class='table table-hover' > <tr><th>#</th><th>主机名</th><th>IP</th><th>远程用户</th><th>操作用户</th><th>登录时间</th><th></th></tr>\";","","            $.each(callback, function(index,item){","                var row = \"<tr><td>\" + index +","                        \"</td><td data-label='hostname'><a class='btn-link' href='/host/detail/?host_id=\" + item.auditlog__host__host__id + \"' >\" + item.auditlog__host__host__hostname +","                        \"</a></td><td data-label='ip_addr' >\" + item.auditlog__host__host__ip_addr +","                        \"</td><td data-label='username' >\" + item.auditlog__host__host_user__username +","                        \"</td><td>\" + item.auditlog__user__name +","                        \"</td><td>\" + item.date +","                        \"</td><td><a href='#' class='badge badge-success' onclick='ShowRecordDetail(this,\" + item.auditlog__session + \")'>查看详细</a></td></tr>\";","                table_html += row;","","            });","            $(\"#large-modal-content\").html(table_html);","","         });//end getJSON","","        $(\"#myLargeModalLabel\").html(\"当前正在连接的主机\");","        $(\"#large-modal\").modal(\"show\");","","    }","    function ShowOnlineUsers(){","","        $.getJSON(\"{% url 'dashboard_detail' %}\", {'data_type':'get_online_users'},function(callback){","","","            var table_html = \"<table class='table table-hover'><tr><th>#</th><th>在线用户</th><th>部门</th><th>登录时间</th></tr>\";","            $.each(callback,function(index,item){","                var row = \"<tr><td>\" + index +","                            \"</td><td><a class='btn-link' href='/user_audit/\" + item.userprofile__id +\"/' >\"+ item.userprofile__name +","                            \"</a></td><td>\" + item.userprofile__department +","                            \"</td><td>\" + item.last_login +\"</td></tr>\";","                table_html += row;","","            });//end each","","            $(\"#large-modal-content\").html(table_html);","        });//end getJSON","","        $(\"#myLargeModalLabel\").html(\"当前在线用户\");","        $(\"#large-modal\").modal(\"show\");","    }","","    function ShowCurrentDayRecords(data){","","        $(\"#large-modal\").modal(\"show\");","        var html_ele = \"<table class='table table-hover'><tr><th>#</th><th>登录日期</th><th>操作人</th><th>主机名</th><th>远程用户</th><th></th></tr>\";","        $.each(data,function(index,item){","            console.log(item);","            var row = \"<tr><td>\" + index +","                      \"</td><td data-label='login_date'>\" + item.date +","                      \"</td><td data-label='username'><a class='btn-link' href='/user_audit/\" + item.user + \"/'>\" + item.user__name +","                      \"</a></td><td data-label='hostname'>\" + item.host__host__hostname +","                      \"</td><td>\" + item.host__host_user__username +","                      \"</td><td> <a onclick='ShowRecordDetail(this,\" + item.session + \")' class='badge badge-success'>查看详细</a> </td>\" +","                      \"</td></tr>\";","            html_ele += row;","","","        });//end each","        html_ele += \"</table>\";","","        $(\"#large-modal-content\").html(html_ele);","","    }","","    function recent_active_users(data){","        var html_ele = '';","        $.each(data.recent_active_users,function(key,val){","           var item_ele = \"<tr><td><a class='btn-link' href='/user_audit/\" + val.user +\"/' >\" +val.user__name + \"</a><td>\" + val.user__count +\"</td><td>\" + active_user_cmd_count(data,val.user) +\"</td><tr>\";","           html_ele += item_ele;","        });","        $(\"#recent_active_users\").html(html_ele);","    };","    function active_user_cmd_count(data,user_id){","        var cmd_count;","        $.each(data.recent_active_users_cmd_count,function(key,val){","            if (val.user == user_id){","                cmd_count= val.cmd__count;","            }","        });//end each","        return cmd_count","    }","    function summary_data(data){","        $(\"#total_servers\").html(data.summary.total_servers);","        $(\"#total_users\").html(data.summary.total_users);","        $(\"#current_logging_users\").html(data.summary.current_logging_users);","        $(\"#current_connected_hosts\").html(data.summary.current_connected_hosts);","    }","","    </script>","","","    {% block bottom-js %}","    <div></div>","    {% endblock %}","","","{% include 'session_security/all.html' %}"],"id":14}],[{"start":{"row":431,"column":0},"end":{"row":431,"column":1},"action":"insert","lines":["\t"],"id":15}],[{"start":{"row":219,"column":14},"end":{"row":219,"column":15},"action":"insert","lines":["e"],"id":16}],[{"start":{"row":219,"column":15},"end":{"row":219,"column":16},"action":"insert","lines":["y"],"id":17}],[{"start":{"row":219,"column":16},"end":{"row":219,"column":17},"action":"insert","lines":["e"],"id":18}],[{"start":{"row":219,"column":17},"end":{"row":219,"column":18},"action":"insert","lines":["/"],"id":19}],[{"start":{"row":220,"column":20},"end":{"row":220,"column":24},"action":"insert","lines":["eye/"],"id":20}],[{"start":{"row":267,"column":0},"end":{"row":267,"column":1},"action":"insert","lines":["\t"],"id":22},{"start":{"row":268,"column":0},"end":{"row":268,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":269,"column":0},"end":{"row":269,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":270,"column":0},"end":{"row":270,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":271,"column":0},"end":{"row":271,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":272,"column":0},"end":{"row":272,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":273,"column":0},"end":{"row":273,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":274,"column":0},"end":{"row":274,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":275,"column":0},"end":{"row":275,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":276,"column":0},"end":{"row":276,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":277,"column":0},"end":{"row":277,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":278,"column":0},"end":{"row":278,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":279,"column":0},"end":{"row":279,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":280,"column":0},"end":{"row":280,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":281,"column":0},"end":{"row":281,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":282,"column":0},"end":{"row":282,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":283,"column":0},"end":{"row":283,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":284,"column":0},"end":{"row":284,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":285,"column":0},"end":{"row":285,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":286,"column":0},"end":{"row":286,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":287,"column":0},"end":{"row":287,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":288,"column":0},"end":{"row":288,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":289,"column":0},"end":{"row":289,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":290,"column":0},"end":{"row":290,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":291,"column":0},"end":{"row":291,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":292,"column":0},"end":{"row":292,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":293,"column":0},"end":{"row":293,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":294,"column":0},"end":{"row":294,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":295,"column":0},"end":{"row":295,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":296,"column":0},"end":{"row":296,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":297,"column":0},"end":{"row":297,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":298,"column":0},"end":{"row":298,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":299,"column":0},"end":{"row":299,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":300,"column":0},"end":{"row":300,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":301,"column":0},"end":{"row":301,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":302,"column":0},"end":{"row":302,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":303,"column":0},"end":{"row":303,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":304,"column":0},"end":{"row":304,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":305,"column":0},"end":{"row":305,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":306,"column":0},"end":{"row":306,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":307,"column":0},"end":{"row":307,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":308,"column":0},"end":{"row":308,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":309,"column":0},"end":{"row":309,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":310,"column":0},"end":{"row":310,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":311,"column":0},"end":{"row":311,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":312,"column":0},"end":{"row":312,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":313,"column":0},"end":{"row":313,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":314,"column":0},"end":{"row":314,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":315,"column":0},"end":{"row":315,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":316,"column":0},"end":{"row":316,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":317,"column":0},"end":{"row":317,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":318,"column":0},"end":{"row":318,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":319,"column":0},"end":{"row":319,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":320,"column":0},"end":{"row":320,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":321,"column":0},"end":{"row":321,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":322,"column":0},"end":{"row":322,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":323,"column":0},"end":{"row":323,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":324,"column":0},"end":{"row":324,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":325,"column":0},"end":{"row":325,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":326,"column":0},"end":{"row":326,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":327,"column":0},"end":{"row":327,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":328,"column":0},"end":{"row":328,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":329,"column":0},"end":{"row":329,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":330,"column":0},"end":{"row":330,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":331,"column":0},"end":{"row":331,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":332,"column":0},"end":{"row":332,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":333,"column":0},"end":{"row":333,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":334,"column":0},"end":{"row":334,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":335,"column":0},"end":{"row":335,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":336,"column":0},"end":{"row":336,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":337,"column":0},"end":{"row":337,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":338,"column":0},"end":{"row":338,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":339,"column":0},"end":{"row":339,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":340,"column":0},"end":{"row":340,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":341,"column":0},"end":{"row":341,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":342,"column":0},"end":{"row":342,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":343,"column":0},"end":{"row":343,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":344,"column":0},"end":{"row":344,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":345,"column":0},"end":{"row":345,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":346,"column":0},"end":{"row":346,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":347,"column":0},"end":{"row":347,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":348,"column":0},"end":{"row":348,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":349,"column":0},"end":{"row":349,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":350,"column":0},"end":{"row":350,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":351,"column":0},"end":{"row":351,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":352,"column":0},"end":{"row":352,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":353,"column":0},"end":{"row":353,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":354,"column":0},"end":{"row":354,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":355,"column":0},"end":{"row":355,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":356,"column":0},"end":{"row":356,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":357,"column":0},"end":{"row":357,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":358,"column":0},"end":{"row":358,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":359,"column":0},"end":{"row":359,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":360,"column":0},"end":{"row":360,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":361,"column":0},"end":{"row":361,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":362,"column":0},"end":{"row":362,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":363,"column":0},"end":{"row":363,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":364,"column":0},"end":{"row":364,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":365,"column":0},"end":{"row":365,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":366,"column":0},"end":{"row":366,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":367,"column":0},"end":{"row":367,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":368,"column":0},"end":{"row":368,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":369,"column":0},"end":{"row":369,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":370,"column":0},"end":{"row":370,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":371,"column":0},"end":{"row":371,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":372,"column":0},"end":{"row":372,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":373,"column":0},"end":{"row":373,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":374,"column":0},"end":{"row":374,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":375,"column":0},"end":{"row":375,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":376,"column":0},"end":{"row":376,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":377,"column":0},"end":{"row":377,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":378,"column":0},"end":{"row":378,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":379,"column":0},"end":{"row":379,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":380,"column":0},"end":{"row":380,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":381,"column":0},"end":{"row":381,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":382,"column":0},"end":{"row":382,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":383,"column":0},"end":{"row":383,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":384,"column":0},"end":{"row":384,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":385,"column":0},"end":{"row":385,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":386,"column":0},"end":{"row":386,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":387,"column":0},"end":{"row":387,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":388,"column":0},"end":{"row":388,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":389,"column":0},"end":{"row":389,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":390,"column":0},"end":{"row":390,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":391,"column":0},"end":{"row":391,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":392,"column":0},"end":{"row":392,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":393,"column":0},"end":{"row":393,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":394,"column":0},"end":{"row":394,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":395,"column":0},"end":{"row":395,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":396,"column":0},"end":{"row":396,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":397,"column":0},"end":{"row":397,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":398,"column":0},"end":{"row":398,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":399,"column":0},"end":{"row":399,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":400,"column":0},"end":{"row":400,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":401,"column":0},"end":{"row":401,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":402,"column":0},"end":{"row":402,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":403,"column":0},"end":{"row":403,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":404,"column":0},"end":{"row":404,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":405,"column":0},"end":{"row":405,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":406,"column":0},"end":{"row":406,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":407,"column":0},"end":{"row":407,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":408,"column":0},"end":{"row":408,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":409,"column":0},"end":{"row":409,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":410,"column":0},"end":{"row":410,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":411,"column":0},"end":{"row":411,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":412,"column":0},"end":{"row":412,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":413,"column":0},"end":{"row":413,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":414,"column":0},"end":{"row":414,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":415,"column":0},"end":{"row":415,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":416,"column":0},"end":{"row":416,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":417,"column":0},"end":{"row":417,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":418,"column":0},"end":{"row":418,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":419,"column":0},"end":{"row":419,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":420,"column":0},"end":{"row":420,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":421,"column":0},"end":{"row":421,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":228,"column":2},"end":{"row":431,"column":42},"action":"remove","lines":["<script type=\"text/javascript\">","        // using jQuery","        $(document).ready(function(){","","            //var csrftoken = $.cookie('csrftoken');","            var csrftoken = Cookies.get('csrftoken');","","            function csrfSafeMethod(method) {","                // these HTTP methods do not require CSRF protection","                return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));","            }","            $.ajaxSetup({","                beforeSend: function(xhr, settings) {","                    if (!csrfSafeMethod(settings.type) && !this.crossDomain) {","                        xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);","                    }","                }","            });","","        //set active menu node on left sidebar","        SetActiveMenu(\"{{active_node}}\");","","        })","","        function SetActiveMenu(active_node){","","            //console.log(\"activ---enode:: \" + active_node);","            if (active_node == ''){","                active_node = '/';","            }","            var node_ele = $(\"#mainnav-menu-wrap \"+ \" a[href='\" +active_node + \"']\").parent();","            node_ele.addClass(\"active-link\");","            if (node_ele.parent().hasClass(\"collapse\")){","                node_ele.parent().addClass(\"in\");","            }","","        }","","        //for chart","\t    $(function () {","\t","\t        Highcharts.setOptions({","\t            global: {","\t                timezoneOffset:new Date().getTimezoneOffset()/60","\t","\t            }","\t        });","\t","\t        $.getJSON(\"{% url 'dashboard_summary' %}\", function (data) {","\t            // Create the chart","\t            console.log(data);","\t            $('#chart-container').highcharts('StockChart', {","\t                credits: {","\t                  enabled: false","\t                },","\t                exporting: { enabled: false },","\t                rangeSelector : {","\t                    selected : 1","\t                },","\t","\t","\t                plotOptions: {","\t                    series: {","\t                        cursor: 'pointer',","\t                        point: {","\t                            events: {","\t                                click: function () {","\t                                    //alert('Category: ' + this.x + ', value: ' + this.y);","\t                                    $.getJSON(\"{% url 'user_login_counts' %}\", {time_stamp: this.x},function(callback){","\t                                        console.log(callback);","\t                                        ShowCurrentDayRecords(callback);","\t","\t                                    });//end getJSON","\t                                }","\t                            }","\t                        }","\t                    }","\t                } ,","\t","\t                series : [{","\t                    type:'column',","\t                    name : '用户数',","\t                    data : data.user_login_statistics,","\t                    tooltip: {","\t                        valueDecimals: 0","\t                    }","\t                }]","\t            });//end chart","\t","\t            recent_active_users(data);","\t            summary_data(data);","\t","\t        });","\t","\t    });","\t        //end chart","\t","\t","\t","\t    function ShowOnlineHosts(){","\t","\t","\t         $.getJSON(\"{% url 'dashboard_detail' %}\", {'data_type':'get_online_hosts'},function(callback){","\t","\t            console.log(callback);","\t            var table_html = \"<table class='table table-hover' > <tr><th>#</th><th>主机名</th><th>IP</th><th>远程用户</th><th>操作用户</th><th>登录时间</th><th></th></tr>\";","\t","\t            $.each(callback, function(index,item){","\t                var row = \"<tr><td>\" + index +","\t                        \"</td><td data-label='hostname'><a class='btn-link' href='/host/detail/?host_id=\" + item.auditlog__host__host__id + \"' >\" + item.auditlog__host__host__hostname +","\t                        \"</a></td><td data-label='ip_addr' >\" + item.auditlog__host__host__ip_addr +","\t                        \"</td><td data-label='username' >\" + item.auditlog__host__host_user__username +","\t                        \"</td><td>\" + item.auditlog__user__name +","\t                        \"</td><td>\" + item.date +","\t                        \"</td><td><a href='#' class='badge badge-success' onclick='ShowRecordDetail(this,\" + item.auditlog__session + \")'>查看详细</a></td></tr>\";","\t                table_html += row;","\t","\t            });","\t            $(\"#large-modal-content\").html(table_html);","\t","\t         });//end getJSON","\t","\t        $(\"#myLargeModalLabel\").html(\"当前正在连接的主机\");","\t        $(\"#large-modal\").modal(\"show\");","\t","\t    }","\t    function ShowOnlineUsers(){","\t","\t        $.getJSON(\"{% url 'dashboard_detail' %}\", {'data_type':'get_online_users'},function(callback){","\t","\t","\t            var table_html = \"<table class='table table-hover'><tr><th>#</th><th>在线用户</th><th>部门</th><th>登录时间</th></tr>\";","\t            $.each(callback,function(index,item){","\t                var row = \"<tr><td>\" + index +","\t                            \"</td><td><a class='btn-link' href='/user_audit/\" + item.userprofile__id +\"/' >\"+ item.userprofile__name +","\t                            \"</a></td><td>\" + item.userprofile__department +","\t                            \"</td><td>\" + item.last_login +\"</td></tr>\";","\t                table_html += row;","\t","\t            });//end each","\t","\t            $(\"#large-modal-content\").html(table_html);","\t        });//end getJSON","\t","\t        $(\"#myLargeModalLabel\").html(\"当前在线用户\");","\t        $(\"#large-modal\").modal(\"show\");","\t    }","\t","\t    function ShowCurrentDayRecords(data){","\t","\t        $(\"#large-modal\").modal(\"show\");","\t        var html_ele = \"<table class='table table-hover'><tr><th>#</th><th>登录日期</th><th>操作人</th><th>主机名</th><th>远程用户</th><th></th></tr>\";","\t        $.each(data,function(index,item){","\t            console.log(item);","\t            var row = \"<tr><td>\" + index +","\t                      \"</td><td data-label='login_date'>\" + item.date +","\t                      \"</td><td data-label='username'><a class='btn-link' href='/user_audit/\" + item.user + \"/'>\" + item.user__name +","\t                      \"</a></td><td data-label='hostname'>\" + item.host__host__hostname +","\t                      \"</td><td>\" + item.host__host_user__username +","\t                      \"</td><td> <a onclick='ShowRecordDetail(this,\" + item.session + \")' class='badge badge-success'>查看详细</a> </td>\" +","\t                      \"</td></tr>\";","\t            html_ele += row;","\t","\t","\t        });//end each","\t        html_ele += \"</table>\";","\t","\t        $(\"#large-modal-content\").html(html_ele);","\t","\t    }","\t","\t    function recent_active_users(data){","\t        var html_ele = '';","\t        $.each(data.recent_active_users,function(key,val){","\t           var item_ele = \"<tr><td><a class='btn-link' href='/user_audit/\" + val.user +\"/' >\" +val.user__name + \"</a><td>\" + val.user__count +\"</td><td>\" + active_user_cmd_count(data,val.user) +\"</td><tr>\";","\t           html_ele += item_ele;","\t        });","\t        $(\"#recent_active_users\").html(html_ele);","\t    };","\t    function active_user_cmd_count(data,user_id){","\t        var cmd_count;","\t        $.each(data.recent_active_users_cmd_count,function(key,val){","\t            if (val.user == user_id){","\t                cmd_count= val.cmd__count;","\t            }","\t        });//end each","\t        return cmd_count","\t    }","\t    function summary_data(data){","\t        $(\"#total_servers\").html(data.summary.total_servers);","\t        $(\"#total_users\").html(data.summary.total_users);","\t        $(\"#current_logging_users\").html(data.summary.current_logging_users);","\t        $(\"#current_connected_hosts\").html(data.summary.current_connected_hosts);","\t    }","","    </script>","","","    {% block bottom-js %}","    <div></div>","    {% endblock %}","","","\t{% include 'session_security/all.html' %}"],"id":23}]]},"ace":{"folds":[],"scrolltop":2668.5,"scrollleft":0,"selection":{"start":{"row":228,"column":2},"end":{"row":228,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":189,"state":"start","mode":"ace/mode/html"}},"timestamp":1447994457361,"hash":"48b9dd977f9f1445fdf37cf487c00e9d23a72dfa"}